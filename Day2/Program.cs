using Day2;
using System.Reflection.Metadata.Ecma335;

string input = "B Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nB X\r\nA X\r\nA Z\r\nC X\r\nA Z\r\nC Y\r\nB Y\r\nC X\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nC Z\r\nA Z\r\nB Y\r\nB Y\r\nA Z\r\nB Z\r\nC Y\r\nC Y\r\nB Y\r\nB Y\r\nC Y\r\nB Z\r\nC Z\r\nC Z\r\nB Z\r\nC Z\r\nC Y\r\nB Y\r\nC Z\r\nC X\r\nB Y\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nA Y\r\nA Z\r\nA Z\r\nA Z\r\nA X\r\nA Z\r\nA Z\r\nC X\r\nC Z\r\nC Y\r\nC Y\r\nB Z\r\nC Y\r\nC Y\r\nC X\r\nC Z\r\nC Y\r\nA Z\r\nC Y\r\nA Y\r\nA Z\r\nB X\r\nA Y\r\nC Y\r\nC Z\r\nA Z\r\nB X\r\nC Z\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nA X\r\nA Y\r\nB Y\r\nA X\r\nA Y\r\nB X\r\nC Z\r\nC Y\r\nC Z\r\nA Y\r\nA X\r\nC Y\r\nB Z\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nB X\r\nA Z\r\nC Y\r\nC Y\r\nA Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nB Y\r\nC Z\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nA Y\r\nB X\r\nA Z\r\nB Y\r\nB Y\r\nB Y\r\nB Y\r\nB Y\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nB Y\r\nB Y\r\nC Y\r\nB Y\r\nA Z\r\nC X\r\nC Y\r\nC X\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nC Z\r\nA Z\r\nC X\r\nA Y\r\nA Z\r\nC Y\r\nB Y\r\nA X\r\nB Y\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nB X\r\nC X\r\nA Z\r\nC Z\r\nA Z\r\nB Y\r\nC Y\r\nB Y\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nC Y\r\nC Z\r\nB Y\r\nC Y\r\nB Y\r\nC Y\r\nB X\r\nA Z\r\nC Y\r\nB Z\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nB Y\r\nA Z\r\nC Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nC Z\r\nA Y\r\nC Y\r\nB X\r\nA X\r\nB Y\r\nC Y\r\nA Z\r\nA Z\r\nA X\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nA Z\r\nB Z\r\nA Z\r\nB Y\r\nC Z\r\nC Y\r\nB X\r\nC Z\r\nC X\r\nC Y\r\nA Y\r\nA Z\r\nA X\r\nB Y\r\nA Y\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nC Y\r\nB Y\r\nA Z\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nC X\r\nA Z\r\nB Z\r\nC Z\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nC X\r\nC Y\r\nC Z\r\nC Z\r\nC X\r\nA Z\r\nC Y\r\nA Z\r\nC X\r\nA Z\r\nB Y\r\nA X\r\nB Z\r\nA Z\r\nA Z\r\nC X\r\nC Y\r\nB Y\r\nB Y\r\nC Y\r\nA Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA X\r\nC Z\r\nA X\r\nA X\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nA X\r\nB Y\r\nB Z\r\nB Y\r\nA Z\r\nC Z\r\nA Y\r\nC Y\r\nA Z\r\nA Y\r\nA Z\r\nC Z\r\nA X\r\nA Z\r\nA X\r\nA Z\r\nB Y\r\nA X\r\nA Z\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nB X\r\nC Y\r\nB Z\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC X\r\nC Y\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nC Z\r\nC Y\r\nB Y\r\nB Z\r\nC Y\r\nB Y\r\nA Z\r\nB Y\r\nB X\r\nA Z\r\nA X\r\nC Y\r\nA X\r\nC Z\r\nC Z\r\nC X\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nB X\r\nC Y\r\nA Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA X\r\nA X\r\nA Z\r\nA Z\r\nB Y\r\nA Y\r\nA Z\r\nA Y\r\nA Z\r\nC Z\r\nA Y\r\nB Y\r\nA Y\r\nA Z\r\nC Z\r\nB X\r\nA Z\r\nC X\r\nC Z\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nA Y\r\nC Y\r\nA Y\r\nB X\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nB Z\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nB Y\r\nA Y\r\nC X\r\nA Y\r\nC Y\r\nA Y\r\nC X\r\nC Y\r\nC Y\r\nC Y\r\nC Z\r\nA X\r\nA Z\r\nC Z\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nC Z\r\nC Y\r\nC Y\r\nC Y\r\nA X\r\nA Z\r\nC X\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nA Y\r\nC Y\r\nA X\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nB X\r\nB Y\r\nA Z\r\nA Z\r\nB Y\r\nC Z\r\nA Z\r\nA Y\r\nA Z\r\nB Z\r\nB Y\r\nA Y\r\nC X\r\nC Z\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nC Z\r\nC X\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA X\r\nA Z\r\nB Y\r\nC Z\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nB Z\r\nA Y\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nA Y\r\nA Y\r\nB Z\r\nA Y\r\nC Y\r\nB X\r\nB X\r\nB Y\r\nC Y\r\nB X\r\nC Y\r\nA Z\r\nA Z\r\nA Y\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nB Z\r\nC Y\r\nB Y\r\nB Z\r\nA Y\r\nC Y\r\nB Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nA X\r\nA Z\r\nB Y\r\nC Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nB Y\r\nC Y\r\nC Z\r\nB X\r\nB Y\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nC X\r\nB Y\r\nA Y\r\nA Y\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nB Y\r\nC Z\r\nA Y\r\nA Z\r\nB Y\r\nB Z\r\nA Z\r\nA Y\r\nA Z\r\nB X\r\nA Z\r\nA Y\r\nC Y\r\nC Y\r\nB X\r\nA Z\r\nB Z\r\nC Y\r\nC Z\r\nC Y\r\nA X\r\nA X\r\nB X\r\nA Z\r\nC Y\r\nC Y\r\nB X\r\nB Z\r\nA Z\r\nC Y\r\nB Y\r\nB Y\r\nC Z\r\nC Y\r\nB Z\r\nA Z\r\nA Z\r\nC X\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nB Z\r\nB Z\r\nA Y\r\nA Y\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nC X\r\nB Y\r\nA Y\r\nC Y\r\nC Z\r\nC Y\r\nC X\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nC Y\r\nA X\r\nC Z\r\nB Y\r\nA Y\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nA Y\r\nB Y\r\nA Y\r\nB Y\r\nC Y\r\nA Z\r\nA Z\r\nB X\r\nC Y\r\nA Y\r\nA Y\r\nB X\r\nC Z\r\nC Y\r\nB Y\r\nC Y\r\nC Z\r\nA Z\r\nC Y\r\nA Y\r\nA Z\r\nA Z\r\nB X\r\nC Y\r\nC Z\r\nC Y\r\nC Z\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nC Y\r\nC X\r\nC Y\r\nC Y\r\nC Y\r\nA X\r\nA Y\r\nC Z\r\nB Y\r\nA Z\r\nC Z\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nA Y\r\nA Z\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nC Z\r\nA X\r\nC Y\r\nB Y\r\nA Z\r\nA X\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nC Z\r\nC Y\r\nC Y\r\nB Z\r\nC X\r\nA Z\r\nC Z\r\nC Z\r\nA Y\r\nA Y\r\nC Z\r\nA Y\r\nA Y\r\nB X\r\nA Z\r\nA Z\r\nA Z\r\nB X\r\nC Y\r\nA Y\r\nA Z\r\nC Y\r\nC Y\r\nC X\r\nC Z\r\nA Z\r\nB Y\r\nB Z\r\nA Y\r\nC Y\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nA X\r\nC Z\r\nC Z\r\nA Z\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nB X\r\nA X\r\nC Y\r\nC Y\r\nA Y\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nB X\r\nB Y\r\nA Z\r\nC Z\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nC Z\r\nC X\r\nC Y\r\nA Z\r\nA Y\r\nA Z\r\nC Y\r\nB Z\r\nC Z\r\nA X\r\nC Y\r\nA Y\r\nC Y\r\nA Z\r\nA Y\r\nB Y\r\nA Z\r\nA X\r\nA X\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nA Z\r\nA Z\r\nB Z\r\nB X\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nA Y\r\nC Y\r\nA Y\r\nB Y\r\nB Y\r\nB Y\r\nA Z\r\nA X\r\nC Y\r\nC Y\r\nB Y\r\nA Y\r\nA Z\r\nA Y\r\nB Y\r\nA Y\r\nA Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nC X\r\nA Z\r\nA Y\r\nC Z\r\nA Z\r\nA Z\r\nC Y\r\nB Y\r\nC Y\r\nA Z\r\nC Z\r\nB Y\r\nB Y\r\nA Z\r\nA Z\r\nA X\r\nA Z\r\nC Z\r\nC Y\r\nA Z\r\nA Z\r\nA X\r\nA Z\r\nC Y\r\nA X\r\nC Y\r\nC Y\r\nA X\r\nC Y\r\nA Y\r\nB X\r\nC Y\r\nB Y\r\nB Y\r\nC X\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nA X\r\nA Z\r\nB X\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nB Y\r\nC Y\r\nC X\r\nA Z\r\nA Y\r\nA Y\r\nC Y\r\nA Z\r\nB Z\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC X\r\nA Z\r\nB X\r\nB Y\r\nC X\r\nA Y\r\nA Y\r\nA Z\r\nA Z\r\nB X\r\nA Z\r\nA Y\r\nA Z\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nB Y\r\nB Y\r\nB Y\r\nA Y\r\nA Y\r\nA X\r\nC Z\r\nC Z\r\nB Y\r\nA Y\r\nA Y\r\nC Y\r\nA X\r\nA Z\r\nA X\r\nB Y\r\nA Z\r\nA Z\r\nA Y\r\nA X\r\nC Y\r\nB X\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nA Y\r\nB Y\r\nA X\r\nA Y\r\nC Y\r\nA X\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nB Y\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nB Y\r\nB Y\r\nC Y\r\nB Y\r\nB Y\r\nB Y\r\nA Z\r\nB Y\r\nB Y\r\nB Y\r\nA X\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nA X\r\nC Z\r\nA Z\r\nA X\r\nC Z\r\nA Z\r\nA Y\r\nC Y\r\nC Z\r\nA X\r\nC Z\r\nA Y\r\nB Y\r\nC Z\r\nA Z\r\nC Y\r\nB Y\r\nB Y\r\nB Z\r\nC X\r\nA Z\r\nB Y\r\nC Y\r\nC Y\r\nC X\r\nA Z\r\nA Z\r\nA Y\r\nC Y\r\nB X\r\nB X\r\nA Y\r\nA Z\r\nC Y\r\nC X\r\nA Y\r\nB Y\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nC Z\r\nB X\r\nA Z\r\nA Y\r\nB Y\r\nC Y\r\nC X\r\nC Z\r\nA Y\r\nC Z\r\nC Y\r\nA Y\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nC X\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nC X\r\nA X\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nB X\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nA X\r\nA Z\r\nA Y\r\nB Y\r\nA Z\r\nA Y\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nB Y\r\nB X\r\nC Y\r\nC Y\r\nA Z\r\nC X\r\nB Y\r\nA X\r\nB Y\r\nA Z\r\nA Z\r\nB Y\r\nA Y\r\nC X\r\nA X\r\nC X\r\nA Z\r\nC X\r\nC Z\r\nA X\r\nC Y\r\nC Z\r\nC Y\r\nA X\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nA X\r\nA Z\r\nB Z\r\nC Y\r\nC Z\r\nC Y\r\nB Y\r\nA Z\r\nB Z\r\nC Y\r\nA Z\r\nC Y\r\nC X\r\nC Z\r\nA Y\r\nC X\r\nB X\r\nB Z\r\nB Y\r\nB X\r\nB X\r\nC Y\r\nC Z\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nB Z\r\nA Y\r\nA Z\r\nB Y\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nB Z\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nB X\r\nB Y\r\nB Y\r\nC Y\r\nA Z\r\nA X\r\nA Y\r\nB X\r\nA Y\r\nC Y\r\nA Z\r\nA Z\r\nB Z\r\nC Y\r\nC Y\r\nA Y\r\nB Z\r\nC Y\r\nA Z\r\nA Y\r\nB Y\r\nC Z\r\nB Y\r\nB Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC X\r\nA Z\r\nB Y\r\nA X\r\nC Y\r\nC Y\r\nB X\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nB Z\r\nC Y\r\nC Y\r\nA Y\r\nC Y\r\nB X\r\nA Z\r\nC Y\r\nC Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nC Z\r\nA Z\r\nA Y\r\nC Y\r\nC X\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nC X\r\nA Z\r\nC Z\r\nC Y\r\nA Z\r\nC Z\r\nC Z\r\nB Y\r\nA Z\r\nC Y\r\nA Z\r\nB Z\r\nA X\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nA Y\r\nA Y\r\nA Z\r\nA X\r\nA Y\r\nB Z\r\nC Y\r\nC Z\r\nA Z\r\nB Z\r\nC Y\r\nB X\r\nC Y\r\nA Z\r\nA Z\r\nB Z\r\nC X\r\nC Y\r\nC Y\r\nC Y\r\nB Z\r\nB Y\r\nA Z\r\nC Y\r\nA Y\r\nC Z\r\nB Y\r\nC Y\r\nA X\r\nC Y\r\nB Y\r\nA Z\r\nA Z\r\nC X\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nC X\r\nA Z\r\nB Y\r\nA Y\r\nC Y\r\nB Y\r\nB Y\r\nC Y\r\nA Y\r\nC Z\r\nC Y\r\nC Y\r\nB Y\r\nA Y\r\nA X\r\nC Z\r\nB Z\r\nA Z\r\nC X\r\nB Y\r\nC Y\r\nB Y\r\nC Z\r\nC Z\r\nB Y\r\nA Y\r\nC Y\r\nA Z\r\nB Z\r\nC Y\r\nC Z\r\nA Z\r\nC Y\r\nA X\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nB X\r\nC Y\r\nA X\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nC Y\r\nC Z\r\nA Z\r\nB X\r\nA Z\r\nA Y\r\nB Y\r\nA X\r\nA Z\r\nC Z\r\nC X\r\nA Y\r\nC Y\r\nA Z\r\nB Z\r\nB X\r\nC Y\r\nC Y\r\nA Y\r\nB Y\r\nA Y\r\nC Y\r\nC X\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nA X\r\nC Y\r\nB Z\r\nB Y\r\nA Z\r\nC Y\r\nC X\r\nA Y\r\nA Z\r\nC X\r\nA Z\r\nC X\r\nC Y\r\nA Y\r\nC X\r\nC X\r\nC Y\r\nA Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nC X\r\nC Y\r\nB Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nC X\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nB X\r\nB X\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nC X\r\nB Y\r\nB Y\r\nA Z\r\nA X\r\nA Z\r\nC X\r\nB Y\r\nC Y\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nA Y\r\nC Y\r\nB Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nC X\r\nB Y\r\nA Y\r\nC Y\r\nC Z\r\nC Z\r\nA Z\r\nA Z\r\nC Z\r\nC Y\r\nA X\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA X\r\nB Y\r\nB X\r\nA Z\r\nC Z\r\nC Y\r\nB Y\r\nB Y\r\nA Z\r\nB Y\r\nA Z\r\nA Y\r\nA X\r\nA X\r\nB Y\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nB Z\r\nA Z\r\nA X\r\nA Z\r\nB Y\r\nB Y\r\nA Y\r\nA X\r\nC Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nA Y\r\nB Y\r\nA X\r\nC Y\r\nC Z\r\nB Z\r\nA Z\r\nA Z\r\nC Z\r\nC X\r\nA Z\r\nC Z\r\nB X\r\nB Z\r\nA Y\r\nC Y\r\nA Z\r\nC Z\r\nA Y\r\nB Z\r\nA Z\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nB Y\r\nC Z\r\nA Y\r\nB Y\r\nA X\r\nA Y\r\nB Y\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC X\r\nC Y\r\nC Z\r\nC Y\r\nA Z\r\nC Y\r\nB Z\r\nC Z\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nB Y\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nC X\r\nB Y\r\nA Z\r\nC X\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nA Z\r\nB Z\r\nC Y\r\nA Y\r\nC Z\r\nB X\r\nB Y\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nA X\r\nC Y\r\nC Y\r\nB Y\r\nA Y\r\nA Z\r\nA Y\r\nB Z\r\nC Y\r\nA Z\r\nB Z\r\nB X\r\nA Z\r\nC Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nA Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nB X\r\nC Y\r\nB X\r\nA Y\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nA Y\r\nA Z\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nC Y\r\nC Z\r\nB Y\r\nA Z\r\nC X\r\nC Y\r\nB Y\r\nC Y\r\nB Z\r\nC Y\r\nC Y\r\nB Y\r\nC X\r\nC Y\r\nC Y\r\nB Y\r\nA X\r\nC Y\r\nC Y\r\nB Y\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nA Z\r\nB Y\r\nB X\r\nC Y\r\nA Y\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nB Y\r\nA Y\r\nB Z\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nB Z\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nB Y\r\nC Y\r\nC Y\r\nB Z\r\nB X\r\nC Y\r\nC X\r\nC Y\r\nA Y\r\nA Y\r\nC Y\r\nA Z\r\nA X\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nC Z\r\nA Y\r\nA Y\r\nC Z\r\nA Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nB Z\r\nA Z\r\nC Y\r\nC Y\r\nA X\r\nC Y\r\nA Z\r\nA X\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nB Y\r\nB Y\r\nB Z\r\nC Y\r\nB Y\r\nB Y\r\nB Y\r\nC Y\r\nB Z\r\nA X\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Z\r\nA Z\r\nA Y\r\nB Z\r\nB Y\r\nA Z\r\nC Z\r\nA Y\r\nB Y\r\nC Y\r\nA Z\r\nB Z\r\nC Y\r\nB Y\r\nB Z\r\nB Z\r\nC Y\r\nB X\r\nB Y\r\nC Y\r\nA Y\r\nA X\r\nC Z\r\nC Y\r\nA Z\r\nA Y\r\nC Y\r\nA Z\r\nA Z\r\nA Y\r\nA Z\r\nC Y\r\nA Y\r\nB Y\r\nA Y\r\nA Z\r\nA Z\r\nA Z\r\nA Y\r\nA Y\r\nA Y\r\nB Y\r\nB Y\r\nA Z\r\nA X\r\nB Y\r\nA Y\r\nA X\r\nC Y\r\nA Y\r\nC Z\r\nC X\r\nC Z\r\nC X\r\nA Z\r\nC Z\r\nA Z\r\nA X\r\nC Y\r\nC Z\r\nA Y\r\nA Z\r\nC Y\r\nA X\r\nB Y\r\nC Y\r\nC Z\r\nA X\r\nC Y\r\nA Z\r\nB Y\r\nB Y\r\nC Z\r\nA Y\r\nC Z\r\nA Z\r\nC Y\r\nA Z\r\nC X\r\nA X\r\nB Y\r\nC Y\r\nB Z\r\nB X\r\nC Y\r\nC Z\r\nA Z\r\nA Y\r\nC Y\r\nB Z\r\nA Z\r\nA Z\r\nC Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nC Y\r\nA Z\r\nB Y\r\nC Y\r\nA Z\r\nB Z\r\nB X\r\nC Z\r\nC Y\r\nA Y\r\nC Z\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA X\r\nB Y\r\nC Y\r\nC Y\r\nA Y\r\nC Y\r\nA Y\r\nC Y\r\nA Y\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nC Y\r\nB Z\r\nC Y\r\nC Z\r\nA Y\r\nB Z\r\nA Z\r\nA Y\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC X\r\nC Y\r\nA Z\r\nC X\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nB Y\r\nA Y\r\nB X\r\nA Y\r\nC Y\r\nC Z\r\nA X\r\nB Y\r\nA Z\r\nA Z\r\nA Y\r\nA Y\r\nA Z\r\nB X\r\nA X\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nB X\r\nA Z\r\nB Y\r\nB Y\r\nA Z\r\nA Z\r\nA Z\r\nC X\r\nB Z\r\nC Z\r\nA X\r\nA X\r\nB Y\r\nC Y\r\nC Z\r\nB Y\r\nC Z\r\nA Z\r\nA Z\r\nC Y\r\nC Z\r\nB Y\r\nB Z\r\nC Y\r\nA X\r\nA X\r\nB Z\r\nC Y\r\nC Y\r\nA Z\r\nB Y\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nB Y\r\nB Y\r\nA Z\r\nA Z\r\nC Z\r\nA Z\r\nB Y\r\nB Y\r\nC Z\r\nA X\r\nB Y\r\nC X\r\nC Y\r\nC Y\r\nA X\r\nB Y\r\nB Z\r\nA Z\r\nB Y\r\nB Z\r\nA Z\r\nC Y\r\nC X\r\nC Z\r\nC X\r\nA Z\r\nA X\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nB Z\r\nC Z\r\nA Y\r\nC Y\r\nB Z\r\nB Y\r\nA Z\r\nA X\r\nC Y\r\nA Z\r\nC Y\r\nB Z\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nC Z\r\nC Y\r\nA Z\r\nB Y\r\nC X\r\nA Z\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nB Z\r\nC Z\r\nC Z\r\nC Y\r\nA Z\r\nA Y\r\nB Y\r\nC Y\r\nA Z\r\nA X\r\nA Y\r\nA Z\r\nA X\r\nB X\r\nB Y\r\nB Z\r\nA X\r\nC Y\r\nC Y\r\nB X\r\nA Z\r\nA Z\r\nA Y\r\nB X\r\nA Y\r\nC Y\r\nB Y\r\nB Y\r\nC Z\r\nC Y\r\nC Z\r\nB X\r\nB Z\r\nC Y\r\nA Z\r\nA Z\r\nB Z\r\nA Z\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nA Y\r\nA Z\r\nA Y\r\nA Y\r\nB Z\r\nA Z\r\nC X\r\nC Y\r\nC Z\r\nC Y\r\nA Z\r\nA Y\r\nB Z\r\nC X\r\nB Y\r\nA Z\r\nA X\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Y\r\nC Y\r\nA Z\r\nC X\r\nC Y\r\nC Y\r\nC Y\r\nC X\r\nA Z\r\nC Y\r\nA Z\r\nB Y\r\nB Y\r\nB X\r\nC Y\r\nB X\r\nC Y\r\nA Z\r\nC X\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nB Z\r\nC X\r\nA Z\r\nC Z\r\nA Z\r\nC Y\r\nC Y\r\nA X\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nC X\r\nA Z\r\nA Z\r\nC Y\r\nC Y\r\nA Y\r\nB Y\r\nA Y\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nC X\r\nC X\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nC Y\r\nB Y\r\nA Z\r\nC Y\r\nB Y\r\nC Y\r\nB X\r\nA Z\r\nA Z\r\nC Y\r\nA X\r\nB Y\r\nB Z\r\nA Z\r\nA Z\r\nC X\r\nA Z\r\nB Y\r\nA Z\r\nA Z\r\nA X\r\nA Z\r\nC Y\r\nA Z\r\nB Y\r\nA X\r\nA X\r\nC Z\r\nA X\r\nB Y\r\nA Z\r\nA X\r\nB X\r\nC Y\r\nC Z\r\nC Y\r\nB Y\r\nA X\r\nC X\r\nA Z\r\nA Z\r\nA Z\r\nC X\r\nC X\r\nA Z\r\nB Y\r\nA Z\r\nA Z\r\nC Y\r\nB X\r\nC X\r\nB X\r\nB Y\r\nB Z\r\nC Y\r\nA Z\r\nA Z\r\nC Z\r\nB Y\r\nA Z\r\nC Y\r\nA Y\r\nA Z\r\nA X\r\nC Y\r\nC Y\r\nB Z\r\nB Y\r\nB X\r\nC X\r\nA Z\r\nB X\r\nB Z\r\nC Y\r\nC Y\r\nC Y\r\nB Z\r\nC Y\r\nC Z\r\nC Y\r\nB Y\r\nC Y\r\nB Z\r\nC Z\r\nC Y\r\nB X\r\nA Z\r\nB Y\r\nC Y\r\nB Z\r\nC Y\r\nC Z\r\nA Z\r\nC X\r\nA Z\r\nB Z\r\nB Y\r\nA Z\r\nC X\r\nC Y\r\nB Y\r\nB Z\r\nC Y\r\nB Z\r\nB Z\r\nC X\r\nC Y\r\nA Y\r\nB Y\r\nC Z\r\nC X\r\nC Y\r\nC Y\r\nA Z\r\nC X\r\nC Z\r\nB Z\r\nA X\r\nB Y\r\nB Y\r\nB Y\r\nC Z\r\nB Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Z\r\nC Z\r\nC Y\r\nC X\r\nC Y\r\nB X\r\nB Y\r\nB X\r\nA Z\r\nC X\r\nC Z\r\nB Z\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nC Y\r\nB Y\r\nC Y\r\nB X\r\nA Z\r\nC Z\r\nC Y\r\nC Y\r\nC Y\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nA Z\r\nA Z\r\nB X\r\nC Y\r\nC Z\r\nB X\r\nA Z\r\nC Z\r\nA Z\r\nA Z\r\nA Z\r\nC Z\r\nB Z\r\nC Y\r\nA Z\r\nC Y\r\nC Y\r\nA Y\r\nC Z\r\nA Z\r\nC Y\r\nA Z\r\nA X\r\nA Y\r\nC Y\r\nA Z\r\nC Y\r\nB Y\r\nA Z\r\nA X\r\nC Y\r\nC Y\r\nA Y\r\nA Z\r\nC Z\r\nA X\r\nC Y\r\nA Z\r\nC Y\r\nC Z\r\nA Z\r\nC Y\r\nC Z\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nB X\r\nC Y\r\nC Z\r\nA X\r\nA Z\r\nA X\r\nA Y\r\nB Y\r\nA Y\r\nC Y\r\nA Y\r\nC Y\r\nB Z\r\nA Y\r\nA X\r\nC Y\r\nC Z\r\nA Z\r\nA Z\r\nC Z\r\nC Y\r\nC Y\r\nA Y\r\nA Y\r\nC Y\r\nC Y\r\nC Z\r\nA Y\r\nC Y\r\nA Z\r\nB Z\r\nB Y\r\nB Y\r\nA Z\r\nA Z\r\nB Y\r\nA Z\r\nC Y\r\nC Y\r\nC Z\r\nB Y\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nA Y\r\nA Z\r\nA Z\r\nA Z\r\nC Y\r\nA Z\r\nA Z\r\nC Y\r\nB Z\r\nB Y\r\nC Z\r\nC Y\r\nA Y\r\nB X\r\nC Z\r\nA Z\r\nB Z\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nA Z\r\nB Y\r\nB Y\r\nC Y\r\nA Z\r\nA Z\r\nC Z\r\nA Y\r\nB Y\r\nA Y\r\nC Y\r\nC Y\r\nC Y\r\nA Z\r\nB Z\r\nA Z\r\nC Y\r\nA Z\r\nB Z\r\nB Y\r\nC Y\r\nC Y\r\nA Y\r\nB Y\r\nC Y\r\nB Z\r\nC Y\r\nC Z\r\nA X\r\nC Y\r\nB Z\r\nB Z\r\nA X\r\nA X\r\nC Y\r\nC Y\r\nC Y\r\nA Y\r\nA Z\r\nA X\r\nC Y";

var total = Play(input);
Console.WriteLine(total);

static int Play(string input)
{
    return input.Split(Environment.NewLine)
        .Sum(x => DetermineRoundScore(x));
}

static int DetermineRoundScore(string round)
{
    int roundWinScore = 6;
    int roundDrawScore = 3;
    var codeLookup = new CodeLookup();
    var outcomeLookup = new OutcomeLookup();

    string[] roundScores = round.Split(null);
    return outcomeLookup[roundScores[1]] switch
    {
        Outcome.Win => (int)DetermineMove(codeLookup[roundScores[0]], Outcome.Win) + roundWinScore,
        Outcome.Lose => (int)DetermineMove(codeLookup[roundScores[0]], Outcome.Lose),
        Outcome.Draw => (int)DetermineMove(codeLookup[roundScores[0]], Outcome.Draw) + roundDrawScore,
        _ => 0
    };
}

static Move DetermineMove(Move opponentMove, Outcome expectedOutcome)
{
    if (opponentMove == Move.Rock && expectedOutcome == Outcome.Win)
        return Move.Paper;
    else if (opponentMove == Move.Rock && expectedOutcome == Outcome.Lose)
        return Move.Scissors;
    else if (opponentMove == Move.Rock && expectedOutcome == Outcome.Draw)
        return Move.Rock;

    if (opponentMove == Move.Paper && expectedOutcome == Outcome.Win)
        return Move.Scissors;
    else if (opponentMove == Move.Paper && expectedOutcome == Outcome.Lose)
        return Move.Rock;
    else if (opponentMove == Move.Paper && expectedOutcome == Outcome.Draw)
        return Move.Paper;

    if (opponentMove == Move.Scissors && expectedOutcome == Outcome.Win)
        return Move.Rock;
    else if (opponentMove == Move.Scissors && expectedOutcome == Outcome.Lose)
        return Move.Paper;
    else if (opponentMove == Move.Scissors && expectedOutcome == Outcome.Draw)
        return Move.Scissors;

    else return Move.Rock;
}

//static int DetermineRoundScore(string round)
//{
//    int roundWinScore = 6;
//    int roundDrawScore = 3;
//    var codeLookup = new CodeLookup();

//    string[] roundScores = round.Split(null);
//    if (codeLookup[roundScores[0]] == Move.Rock && codeLookup[roundScores[1]] == Move.Paper)
//        return (int)Move.Paper + roundWinScore;
//    else if (codeLookup[roundScores[0]] == Move.Paper && codeLookup[roundScores[1]] == Move.Scissors)
//        return (int)Move.Scissors + roundWinScore;
//    else if (codeLookup[roundScores[0]] == Move.Scissors && codeLookup[roundScores[1]] == Move.Rock)
//        return (int)Move.Rock + roundWinScore;
//    else if (codeLookup[roundScores[0]] == codeLookup[roundScores[1]])
//        return roundDrawScore + (int)codeLookup[roundScores[1]];
//    else return (int)codeLookup[roundScores[1]];
//}


